{"version":3,"file":"drag-drop-model-template.js","sourceRoot":"","sources":["../src/demo-app/scheduler-app/drag-drop-model-template.ts"],"names":[],"mappings":"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","sourcesContent":["\nimport {UidGenerator} from './uid-generator'\nimport {Injectable, Inject} from '@angular/core'\nimport {data} from './mock-data'\nimport {Http, Response, Headers, RequestOptions} from '@angular/http';\n//import {Http, Response} from '@angular/http'\n\n\ninterface csDndListItemTemplate{\n    viewText:string,\n    uid:string,\n    selected: boolean\n}\ninterface csDndListTemplate {\n    header:string,\n    listUid:string,\n    listItems:  csDndListItemTemplate[]   \n}\n\n@Injectable()\nexport class DragDropModelTemplate {\n\nmodel\nconformed\nconformedModel\nidGenerator\n\n    constructor(@Inject(UidGenerator) idgen: UidGenerator, private _http: Http){\n        //this.model = data //[] //model    \n        this.conformed = false\n        this.idGenerator = idgen //new UidGenerator()\n       // this.httpTest()\n    }\n   private getRemoteDataForModel(){\n       // const headers = new Headers({'Access-Control-Allow-Origin':'http://localhost:4200'}) \n       // const opts = new RequestOptions({headers})\n              //     http://www.cabins4lessapp.com/cabinStatusLinens.php\n        let that = this\n        let url = 'http://www.cabins4lessapp.com/cabinStatusLinens.php' \n        return this._http.get(url/*, opts*/).map(({_body})=>{\n            let mdlDta = []\n                mdlDta[0] = ['assignments'] \n            let rawDta = _body.split(',')\n            let x, i, j\n            for(x = 0;x<rawDta.length;x+=3){\n                i=x+1;j=x+2\n                mdlDta[0].push(`${rawDta[x]}_${rawDta[i]}_${rawDta[j]}`)\n            }\n            that.model = mdlDta\n            //console.log(that.conformModel())\n            return that.conformModel()\n            \n        })\n        //.subscribe(function(res){\n        //console.log('res one in template')\n        //console.log(res)\n        //})\n    }\n    setModel(model){\n        this.model = model\n    }\n    getModel(conformed?: boolean){\n        if(conformed){\n            if(!this.conformed){\n                throw 'this model has not been conformed. call conformedModel' \n            }\n            return this.conformedModel\n        }\n        return this.model()\n\n    }\n    conformModel(){\n        this.conformFromArrayStrings()\n        return this.conformedModel\n    }\n\n     private getListTemplate(): csDndListTemplate{\n        return  {header:'',listUid:'', listItems:[]}\n    }\n     private getListItemTemplate(){\n        return  {viewText:'',uid:'', selected: false}\n    }\n    tester(){}\n    private conformFromArrayStrings(){\n        let build = []\n        let i = 0\n        for(let list of this.model){\n            let listTmpl = this.getListTemplate()\n            console.log(list)\n            listTmpl.header = list[0]\n            listTmpl.listUid=this.idGenerator.generate(i)\n            for(let x=1;x<list.length;x++){\n                let newListItem = this.getListItemTemplate()\n                newListItem.viewText=list[x]\n                newListItem.uid = this.idGenerator.generate(i,x-1)\n                listTmpl.listItems.push(newListItem)   \n                console.log(x)\n            }\n            build.push(listTmpl)\n            i++\n        }\n        this.conformed = true\n        this.conformedModel = build \n    }\n}\n"]}